#include <iostream>
#include <unordered_set>
#include <fstream>
#include <string>
#include <sstream>

using namespace std;

int main(int argc, char* argv[]) {
    // Проверяем аргументы командной строки
    if (argc < 5) {
        cerr << "Использование: ./program --file <путь до файла> -query <запрос>" << endl;
        return 1;
    }

    string file_path = argv[2]; // Путь до файла
    string query = argv[4];     // Запрос

    // Создаем множество
    unordered_set<int> mySet;

    // Читаем начальные данные из файла
    ifstream file(file_path);
    if (file.is_open()) {
        int num;
        while (file >> num) {
            mySet.insert(num); // Добавляем элементы в множество
        }
        file.close();
    } else {
        cerr << "Не удалось открыть файл: " << file_path << endl;
        return 1;
    }

    // Обрабатываем запрос
    istringstream queryStream(query);
    string operation;
    int element;
    queryStream >> operation >> element;

    if (operation == "SETADD") {
        mySet.insert(element); // Добавляем элемент
    } else if (operation == "SETDEL") {
        mySet.erase(element); // Удаляем элемент
    } else if (operation == "SET_AT") {
        // Проверяем наличие элемента
        bool exists = mySet.find(element) != mySet.end();
        cout << (exists ? "true" : "false") << endl;
    } else {
        cerr << "Неизвестный запрос: " << operation << endl;
        return 1;
    }

    return 0;
}
